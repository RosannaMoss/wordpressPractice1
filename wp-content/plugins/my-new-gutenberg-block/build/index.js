(()=>{"use strict";const e=window.wp.blocks,t=window.wp.editor,n=window.wp.components,o=window.wp.element,c=window.ReactJSXRuntime;(0,e.registerBlockType)("my-new-gutenberg/block",{title:"My New Custom Block with Ticking Clock",icon:"clock",category:"widgets",attributes:{content:{type:"string",source:"html",selector:"p"},backgroundColor:{type:"string",default:"#f0f0f0"},customTitle:{type:"string",default:"My New Custom Block"},showDate:{type:"boolean",default:!1},currentTime:{type:"string",default:""}},edit({attributes:e,setAttributes:l}){const{content:r,backgroundColor:i,customTitle:s,showDate:a,currentTime:d}=e;return(0,o.useEffect)((()=>{const e=setInterval((()=>{const e=(new Date).toLocaleTimeString();l({currentTime:e})}),1e3);return()=>clearInterval(e)}),[]),(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(t.InspectorControls,{children:(0,c.jsxs)(n.PanelBody,{title:"Block Settings",initialOpen:!0,children:[(0,c.jsx)(n.TextControl,{label:"Block Title",value:s,onChange:e=>l({customTitle:e})}),(0,c.jsx)(n.ColorPalette,{label:"Background Color",value:i,onChange:e=>l({backgroundColor:e})}),(0,c.jsx)(n.TextControl,{label:"Show Date",value:a?"Yes":"No",onClick:()=>l({showDate:!a}),help:"Click to toggle showing current date"})]})}),(0,c.jsxs)("div",{style:{backgroundColor:i,padding:"20px"},children:[(0,c.jsx)("h2",{children:s}),(0,c.jsx)(t.RichText,{tagName:"p",value:r,onChange:e=>l({content:e})}),a&&(0,c.jsx)("p",{children:(new Date).toLocaleDateString()}),(0,c.jsx)("p",{children:d})," "]})]})},save({attributes:e}){const{content:n,backgroundColor:o,customTitle:l,showDate:r,currentTime:i}=e;return(0,c.jsxs)("div",{style:{backgroundColor:o,padding:"20px"},children:[(0,c.jsx)("h2",{children:l}),(0,c.jsx)(t.RichText.Content,{tagName:"p",value:n}),r&&(0,c.jsx)("p",{children:(new Date).toLocaleDateString()})," ",(0,c.jsx)("p",{className:"ticking-clock",children:i})," "]})}}),document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector(".ticking-clock");e&&setInterval((function(){e.textContent=(new Date).toLocaleTimeString()}),1e3)}))})();